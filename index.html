<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 12 Concept</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            overflow: hidden;
            background-color: #000;
            color: white;
            height: 100vh;
        }

        .desktop {
            position: relative;
            width: 100vw;
            height: calc(100vh - 50px);
            background-size: cover;
            background-position: center;
            overflow: hidden;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background-color: rgba(20, 20, 20, 0.85);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
        }

        .start-menu-container {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 60px;
            width: 650px;
            height: 500px;
            background-color: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1001;
            overflow: hidden;
            animation: fadeIn 0.2s ease-out;
        }

        .start-menu {
            width: 100%;
            height: 100%;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            grid-gap: 15px;
            overflow-y: auto;
        }

        .start-menu-header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .search-box {
            width: 100%;
            padding: 10px 15px;
            background-color: rgba(50, 50, 50, 0.6);
            border: none;
            border-radius: 6px;
            color: white;
            outline: none;
            font-size: 14px;
        }

        .app-icon {
            width: 40px;
            height: 40px;
            margin-right: 10px;
            background-color: rgba(80, 80, 80, 0.7);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            cursor: pointer;
            color: white;
        }

        .app-shortcut {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: background-color 0.2s;
        }

        .app-shortcut:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .app-shortcut-icon {
            width: 40px;
            height: 40px;
            background-color: rgba(0, 120, 215, 0.8);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 6px;
            color: white;
            font-size: 18px;
        }

        .app-shortcut-name {
            font-size: 12px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
        }

        .desktop-icon {
            position: absolute;
            width: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
        }

        .desktop-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .desktop-icon-img {
            width: 40px;
            height: 40px;
            background-color: rgba(0, 120, 215, 0.8);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 6px;
            color: white;
            font-size: 18px;
        }

        .desktop-icon-name {
            font-size: 12px;
            color: white;
            text-shadow: 0 0 3px rgba(0, 0, 0, 0.8);
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 80px;
        }

        .window {
            position: absolute;
            background-color: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
            overflow: hidden;
            resize: both;
            min-width: 400px;
            min-height: 300px;
            animation: fadeIn 0.2s ease-out;
        }

        .window-titlebar {
            height: 35px;
            background-color: rgba(50, 50, 50, 0.6);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            cursor: move;
        }

        .window-title {
            display: flex;
            align-items: center;
            font-size: 14px;
        }

        .window-controls {
            display: flex;
        }

        .window-control {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            margin-left: 8px;
            cursor: pointer;
        }

        .window-minimize {
            background-color: #FFC106;
        }

        .window-maximize {
            background-color: #32CD32;
        }

        .window-close {
            background-color: #FF5F56;
        }

        .window-content {
            height: calc(100% - 35px);
            overflow: auto;
            padding: 15px;
        }

        /* Notepad styles */
        .notepad-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 0;
        }

        .notepad-menubar {
            display: flex;
            padding: 5px;
            background-color: rgba(40, 40, 40, 0.7);
        }

        .notepad-menu-item {
            padding: 5px 10px;
            cursor: pointer;
            font-size: 13px;
            border-radius: 4px;
        }

        .notepad-menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .notepad-textarea {
            flex: 1;
            background-color: rgba(20, 20, 20, 0.7);
            color: #fff;
            border: none;
            resize: none;
            padding: 10px;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            outline: none;
        }

        /* Calculator styles */
        .calculator-content {
            height: 100%;
            display: grid;
            grid-template-rows: 80px 1fr;
            padding: 0;
        }

        .calculator-display {
            background-color: rgba(20, 20, 20, 0.7);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 20px;
            font-size: 2rem;
            font-weight: bold;
            overflow: hidden;
        }

        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1px;
        }

        .calculator-button {
            background-color: rgba(60, 60, 60, 0.8);
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: white;
            transition: background-color 0.2s;
        }

        .calculator-button:hover {
            background-color: rgba(80, 80, 80, 0.9);
        }

        .calculator-button.operator {
            background-color: rgba(0, 120, 215, 0.8);
        }

        .calculator-button.equals {
            background-color: rgba(0, 160, 120, 0.8);
        }

        .calculator-button.clear {
            background-color: rgba(215, 60, 60, 0.8);
        }

        /* Taskbar icons */
        .taskbar-icons {
            display: flex;
            align-items: center;
            height: 100%;
        }

        .taskbar-icon {
            width: 40px;
            height: 40px;
            margin: 0 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .taskbar-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .start-button {
            width: 40px;
            height: 40px;
            background-color: rgba(0, 120, 215, 0.8);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            margin: 0 5px;
        }

        .start-button:hover {
            background-color: rgba(0, 130, 230, 0.9);
        }

        /* Browser app styles */
        .browser-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 0;
        }

        .browser-toolbar {
            display: flex;
            padding: 8px;
            background-color: rgba(40, 40, 40, 0.7);
            align-items: center;
        }

        .browser-button {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(80, 80, 80, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 8px;
            cursor: pointer;
            font-size: 18px;
            color: white;
        }

        .browser-address-bar {
            flex: 1;
            background-color: rgba(60, 60, 60, 0.7);
            border-radius: 15px;
            padding: 8px 15px;
            color: #ddd;
            border: none;
            outline: none;
            font-size: 14px;
        }

        .browser-viewport {
            flex: 1;
            background-color: white;
            color: black;
            padding: 15px;
            overflow: auto;
        }
        
        /* Explorer app styles */
        .explorer-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 0;
        }
        
        .explorer-toolbar {
            display: flex;
            padding: 8px;
            background-color: rgba(40, 40, 40, 0.7);
            align-items: center;
        }
        
        .explorer-addressbar {
            flex: 1;
            background-color: rgba(60, 60, 60, 0.7);
            border-radius: 4px;
            padding: 8px 15px;
            color: #ddd;
            border: none;
            outline: none;
            font-size: 14px;
            margin: 0 8px;
        }
        
        .explorer-main {
            flex: 1;
            display: flex;
        }
        
        .explorer-sidebar {
            width: 200px;
            background-color: rgba(35, 35, 35, 0.7);
            padding: 10px;
        }
        
        .explorer-sidebar-item {
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            margin-bottom: 2px;
        }
        
        .explorer-sidebar-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .explorer-icon {
            margin-right: 8px;
            font-size: 16px;
        }
        
        .explorer-files {
            flex: 1;
            padding: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            grid-gap: 15px;
            overflow: auto;
        }
        
        .explorer-file {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
        }
        
        .explorer-file:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .explorer-file-icon {
            width: 40px;
            height: 40px;
            background-color: rgba(0, 120, 215, 0.8);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 6px;
            color: white;
            font-size: 18px;
        }
        
        .explorer-file-name {
            font-size: 12px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
        }

        /* Context menu */
        .context-menu {
            position: absolute;
            background-color: rgba(40, 40, 40, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            padding: 5px 0;
            min-width: 180px;
            z-index: 1100;
            display: none;
        }

        .context-menu-item {
            padding: 8px 15px;
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
        }

        .context-menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .context-menu-icon {
            margin-right: 8px;
            font-size: 14px;
            opacity: 0.8;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Clock */
        .taskbar-clock {
            position: absolute;
            right: 20px;
            font-size: 14px;
            color: white;
        }
        
        /* Action center button */
        .action-center-button {
            position: absolute;
            right: 80px;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .action-center-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* Action center */
        .action-center {
            position: absolute;
            right: 10px;
            bottom: 60px;
            width: 350px;
            background-color: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1001;
            overflow: hidden;
            padding: 15px;
            animation: fadeIn 0.2s ease-out;
        }
        
        .action-center-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .quick-action {
            background-color: rgba(60, 60, 60, 0.7);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .quick-action:hover {
            background-color: rgba(80, 80, 80, 0.8);
        }
        
        .quick-action-icon {
            font-size: 18px;
            margin-bottom: 5px;
        }
        
        .quick-action-name {
            font-size: 11px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="desktop" id="desktop">
        <!-- Desktop icons will be added here dynamically -->
    </div>
    
    <div class="taskbar" id="taskbar">
        <div class="start-button" id="startButton">W</div>
        <div class="taskbar-icons" id="taskbarIcons">
            <!-- Taskbar app shortcuts -->
            <div class="taskbar-icon" data-app="explorer">üìÅ</div>
            <div class="taskbar-icon" data-app="browser">üåê</div>
            <div class="taskbar-icon" data-app="notepad">üìù</div>
            <div class="taskbar-icon" data-app="calculator">üî¢</div>
        </div>
        <div class="action-center-button" id="actionCenterButton">üìä</div>
        <div class="taskbar-clock" id="taskbarClock">00:00</div>
    </div>
    
    <div class="start-menu-container" id="startMenu">
        <div class="start-menu">
            <div class="start-menu-header">
                <input type="text" class="search-box" placeholder="Type to search...">
            </div>
            
            <!-- App shortcuts in start menu -->
            <div class="app-shortcut" data-app="explorer">
                <div class="app-shortcut-icon">üìÅ</div>
                <div class="app-shortcut-name">File Explorer</div>
            </div>
            <div class="app-shortcut" data-app="browser">
                <div class="app-shortcut-icon">üåê</div>
                <div class="app-shortcut-name">Browser</div>
            </div>
            <div class="app-shortcut" data-app="notepad">
                <div class="app-shortcut-icon">üìù</div>
                <div class="app-shortcut-name">Notepad</div>
            </div>
            <div class="app-shortcut" data-app="calculator">
                <div class="app-shortcut-icon">üî¢</div>
                <div class="app-shortcut-name">Calculator</div>
            </div>
            <div class="app-shortcut" data-app="settings">
                <div class="app-shortcut-icon">‚öôÔ∏è</div>
                <div class="app-shortcut-name">Settings</div>
            </div>
            <div class="app-shortcut" data-app="photos">
                <div class="app-shortcut-icon">üñºÔ∏è</div>
                <div class="app-shortcut-name">Photos</div>
            </div>
            <div class="app-shortcut" data-app="mail">
                <div class="app-shortcut-icon">‚úâÔ∏è</div>
                <div class="app-shortcut-name">Mail</div>
            </div>
            <div class="app-shortcut" data-app="calendar">
                <div class="app-shortcut-icon">üìÖ</div>
                <div class="app-shortcut-name">Calendar</div>
            </div>
            <div class="app-shortcut" data-app="store">
                <div class="app-shortcut-icon">üõí</div>
                <div class="app-shortcut-name">Store</div>
            </div>
            <div class="app-shortcut" data-app="music">
                <div class="app-shortcut-icon">üéµ</div>
                <div class="app-shortcut-name">Music</div>
            </div>
            <div class="app-shortcut" data-app="movies">
                <div class="app-shortcut-icon">üé¨</div>
                <div class="app-shortcut-name">Movies</div>
            </div>
            <div class="app-shortcut" data-app="games">
                <div class="app-shortcut-icon">üéÆ</div>
                <div class="app-shortcut-name">Games</div>
            </div>
        </div>
    </div>
    
    <div class="action-center" id="actionCenter">
        <div class="action-center-header">
            <h3>Quick Settings</h3>
        </div>
        <div class="quick-actions">
            <div class="quick-action">
                <div class="quick-action-icon">üì∂</div>
                <div class="quick-action-name">Wi-Fi</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">üîä</div>
                <div class="quick-action-name">Volume</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">‚òÄÔ∏è</div>
                <div class="quick-action-name">Brightness</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">üì±</div>
                <div class="quick-action-name">Bluetooth</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">‚úàÔ∏è</div>
                <div class="quick-action-name">Airplane</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">üåô</div>
                <div class="quick-action-name">Night Mode</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">üö´</div>
                <div class="quick-action-name">Focus</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">üì°</div>
                <div class="quick-action-name">Hotspot</div>
            </div>
        </div>
    </div>
    
    <!-- Windows Application Templates -->
    
    <!-- Notepad Window -->
    <div class="window" id="notepadWindow" style="width: 600px; height: 400px; top: 100px; left: 200px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-icon">üìù</div>
                Notepad
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize"></div>
                <div class="window-control window-maximize"></div>
                <div class="window-control window-close" data-window="explorerWindow"></div>
            </div>
        </div>
        <div class="window-content explorer-content">
            <div class="explorer-toolbar">
                <div class="browser-button">‚óÄ</div>
                <div class="browser-button">‚ñ∂</div>
                <div class="browser-button">‚Üë</div>
                <input type="text" class="explorer-addressbar" value="C:\Users\User">
            </div>
            <div class="explorer-main">
                <div class="explorer-sidebar">
                    <div class="explorer-sidebar-item">
                        <span class="explorer-icon">üìå</span> Quick access
                    </div>
                    <div class="explorer-sidebar-item">
                        <span class="explorer-icon">üñ•Ô∏è</span> Desktop
                    </div>
                    <div class="explorer-sidebar-item">
                        <span class="explorer-icon">üìÑ</span> Documents
                    </div>
                    <div class="explorer-sidebar-item">
                        <span class="explorer-icon">‚¨áÔ∏è</span> Downloads
                    </div>
                    <div class="explorer-sidebar-item">
                        <span class="explorer-icon">üéµ</span> Music
                    </div>
                    <div class="explorer-sidebar-item">
                        <span class="explorer-icon">üñºÔ∏è</span> Pictures
                    </div>
                    <div class="explorer-sidebar-item">
                        <span class="explorer-icon">üé¨</span> Videos
                    </div>
                </div>
                <div class="explorer-files">
                    <div class="explorer-file">
                        <div class="explorer-file-icon">üìù</div>
                        <div class="explorer-file-name">Document.txt</div>
                    </div>
                    <div class="explorer-file">
                        <div class="explorer-file-icon">üñºÔ∏è</div>
                        <div class="explorer-file-name">wallpaper.jpg</div>
                    </div>
                    <div class="explorer-file">
                        <div class="explorer-file-icon">üìä</div>
                        <div class="explorer-file-name">Report.xlsx</div>
                    </div>
                    <div class="explorer-file">
                        <div class="explorer-file-icon">üåê</div>
                        <div class="explorer-file-name">index.html</div>
                    </div>
                    <div class="explorer-file">
                        <div class="explorer-file-icon">üíª</div>
                        <div class="explorer-file-name">script.js</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Context Menu -->
    <div class="context-menu" id="desktopContextMenu">
        <div class="context-menu-item">
            <span class="context-menu-icon">‚Üª</span> Refresh
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">‚ñ∂Ô∏è</span> View
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">üìã</span> Paste
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">üìÅ</span> New Folder
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">üìù</span> New Text Document
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">‚öôÔ∏è</span> Display Settings
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">üíª</span> Personalize
        </div>
    </div>

    <script>
        // Initialize the Windows 12 environment
        document.addEventListener('DOMContentLoaded', function() {
            // Set background image
            const desktop = document.getElementById('desktop');
            desktop.style.backgroundImage = 'url("/api/placeholder/1920/1080")';
            
            // Try to load the wallpaper if provided
            try {
                fetch('wallpaper.jpg')
                    .then(response => {
                        if (response.ok) {
                            desktop.style.backgroundImage = 'url("wallpaper.jpg")';
                        }
                    })
                    .catch(error => {
                        console.log('Using default wallpaper');
                    });
            } catch (e) {
                console.log('Using default wallpaper');
            }
            
            // Create desktop shortcuts
            createDesktopIcon('Recycle Bin', 'üóëÔ∏è', 20, 20);
            createDesktopIcon('File Explorer', 'üìÅ', 20, 120);
            createDesktopIcon('Browser', 'üåê', 20, 220);
            createDesktopIcon('Notepad', 'üìù', 20, 320);
            createDesktopIcon('Calculator', 'üî¢', 20, 420);
            
            // Setup the clock
            updateClock();
            setInterval(updateClock, 1000);
            
            // Initialize the calculator
            initCalculator();
            
            // Make windows draggable
            makeWindowsDraggable();
            
            // Setup event listeners
            setupEventListeners();
        });
        
        // Create desktop icon
        function createDesktopIcon(name, icon, left, top) {
            const desktopIcon = document.createElement('div');
            desktopIcon.className = 'desktop-icon';
            desktopIcon.style.left = left + 'px';
            desktopIcon.style.top = top + 'px';
            desktopIcon.innerHTML = `
                <div class="desktop-icon-img">${icon}</div>
                <div class="desktop-icon-name">${name}</div>
            `;
            desktopIcon.dataset.app = name.toLowerCase().replace(' ', '');
            
            desktopIcon.addEventListener('dblclick', function() {
                openApp(this.dataset.app);
            });
            
            document.getElementById('desktop').appendChild(desktopIcon);
        }
        
        // Update the clock
        function updateClock() {
            const now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12;
            hours = hours ? hours : 12;
            minutes = minutes < 10 ? '0' + minutes : minutes;
            
            const timeString = hours + ':' + minutes + ' ' + ampm;
            document.getElementById('taskbarClock').textContent = timeString;
        }
        
        // Initialize the calculator
        function initCalculator() {
            const display = document.getElementById('calculatorDisplay');
            const buttons = document.querySelectorAll('.calculator-button');
            
            let firstOperand = null;
            let operator = null;
            let waitingForSecondOperand = false;
            
            // Add event listeners to calculator buttons
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    if (button.dataset.digit !== undefined) {
                        inputDigit(button.dataset.digit);
                    } else if (button.dataset.operation) {
                        handleOperator(button.dataset.operation);
                    } else if (button.dataset.action) {
                        handleAction(button.dataset.action);
                    }
                });
            });
            
            function inputDigit(digit) {
                const displayValue = display.textContent;
                
                if (waitingForSecondOperand) {
                    display.textContent = digit;
                    waitingForSecondOperand = false;
                } else {
                    display.textContent = displayValue === '0' ? digit : displayValue + digit;
                }
            }
            
            function handleOperator(nextOperator) {
                const inputValue = parseFloat(display.textContent);
                
                if (firstOperand === null) {
                    firstOperand = inputValue;
                } else if (operator) {
                    const result = calculate(firstOperand, inputValue, operator);
                    display.textContent = result;
                    firstOperand = result;
                }
                
                waitingForSecondOperand = true;
                operator = nextOperator;
            }
            
            function handleAction(action) {
                switch (action) {
                    case 'clear':
                        display.textContent = '0';
                        firstOperand = null;
                        operator = null;
                        waitingForSecondOperand = false;
                        break;
                    case 'calculate':
                        if (firstOperand === null || operator === null) {
                            return;
                        }
                        display.textContent = calculate(firstOperand, parseFloat(display.textContent), operator);
                        firstOperand = null;
                        operator = null;
                        waitingForSecondOperand = false;
                        break;
                    case 'backspace':
                        if (display.textContent.length > 1) {
                            display.textContent = display.textContent.slice(0, -1);
                        } else {
                            display.textContent = '0';
                        }
                        break;
                    case 'plusMinus':
                        display.textContent = (-parseFloat(display.textContent)).toString();
                        break;
                    case 'percent':
                        display.textContent = (parseFloat(display.textContent) / 100).toString();
                        break;
                }
            }
            
            function calculate(firstOperand, secondOperand, operator) {
                switch (operator) {
                    case '+':
                        return firstOperand + secondOperand;
                    case '-':
                        return firstOperand - secondOperand;
                    case '*':
                        return firstOperand * secondOperand;
                    case '/':
                        return firstOperand / secondOperand;
                    default:
                        return secondOperand;
                }
            }
        }
        
        // Make windows draggable
        function makeWindowsDraggable() {
            const windows = document.querySelectorAll('.window');
            
            windows.forEach(window => {
                const titlebar = window.querySelector('.window-titlebar');
                let isDragging = false;
                let offsetX, offsetY;
                
                titlebar.addEventListener('mousedown', function(e) {
                    isDragging = true;
                    offsetX = e.clientX - window.getBoundingClientRect().left;
                    offsetY = e.clientY - window.getBoundingClientRect().top;
                    
                    // Bring window to front
                    windows.forEach(w => {
                        w.style.zIndex = '100';
                    });
                    window.style.zIndex = '101';
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (isDragging) {
                        window.style.left = (e.clientX - offsetX) + 'px';
                        window.style.top = (e.clientY - offsetY) + 'px';
                    }
                });
                
                document.addEventListener('mouseup', function() {
                    isDragging = false;
                });
            });
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Start button click
            document.getElementById('startButton').addEventListener('click', function() {
                toggleStartMenu();
            });
            
            // Action center button click
            document.getElementById('actionCenterButton').addEventListener('click', function() {
                toggleActionCenter();
            });
            
            // Close buttons
            document.querySelectorAll('.window-close').forEach(button => {
                button.addEventListener('click', function() {
                    closeWindow(this.dataset.window);
                });
            });
            
            // Taskbar icons
            document.querySelectorAll('.taskbar-icon').forEach(icon => {
                icon.addEventListener('click', function() {
                    openApp(this.dataset.app);
                });
            });
            
            // Start menu app shortcuts
            document.querySelectorAll('.app-shortcut').forEach(shortcut => {
                shortcut.addEventListener('click', function() {
                    openApp(this.dataset.app);
                    toggleStartMenu();
                });
            });
            
            // Desktop right click context menu
            document.getElementById('desktop').addEventListener('contextmenu', function(e) {
                e.preventDefault();
                showContextMenu(e.clientX, e.clientY);
            });
            
            // Hide context menu on click elsewhere
            document.addEventListener('click', function() {
                document.getElementById('desktopContextMenu').style.display = 'none';
            });
            
            // Hide start menu on click elsewhere
            document.addEventListener('click', function(e) {
                const startMenu = document.getElementById('startMenu');
                const startButton = document.getElementById('startButton');
                
                if (!startMenu.contains(e.target) && e.target !== startButton) {
                    startMenu.style.display = 'none';
                }
            });
            
            // Hide action center on click elsewhere
            document.addEventListener('click', function(e) {
                const actionCenter = document.getElementById('actionCenter');
                const actionButton = document.getElementById('actionCenterButton');
                
                if (!actionCenter.contains(e.target) && e.target !== actionButton) {
                    actionCenter.style.display = 'none';
                }
            });
            
            // Desktop icon double click
            document.querySelectorAll('.desktop-icon').forEach(icon => {
                icon.addEventListener('dblclick', function() {
                    openApp(this.dataset.app);
                });
            });
        }
        
        // Toggle start menu
        function toggleStartMenu() {
            const startMenu = document.getElementById('startMenu');
            const actionCenter = document.getElementById('actionCenter');
            
            if (startMenu.style.display === 'block') {
                startMenu.style.display = 'none';
            } else {
                startMenu.style.display = 'block';
                actionCenter.style.display = 'none';
            }
        }
        
        // Toggle action center
        function toggleActionCenter() {
            const actionCenter = document.getElementById('actionCenter');
            const startMenu = document.getElementById('startMenu');
            
            if (actionCenter.style.display === 'block') {
                actionCenter.style.display = 'none';
            } else {
                actionCenter.style.display = 'block';
                startMenu.style.display = 'none';
            }
        }
        
        // Show context menu
        function showContextMenu(x, y) {
            const contextMenu = document.getElementById('desktopContextMenu');
            contextMenu.style.display = 'block';
            contextMenu.style.left = x + 'px';
            contextMenu.style.top = y + 'px';
            
            // Ensure context menu stays within viewport
            const rect = contextMenu.getBoundingClientRect();
            if (rect.right > window.innerWidth) {
                contextMenu.style.left = (x - rect.width) + 'px';
            }
            if (rect.bottom > window.innerHeight) {
                contextMenu.style.top = (y - rect.height) + 'px';
            }
        }
        
        // Open app
        function openApp(app) {
            const windowId = app + 'Window';
            const windowElement = document.getElementById(windowId);
            
            if (windowElement) {
                // Bring window to front
                document.querySelectorAll('.window').forEach(w => {
                    w.style.zIndex = '100';
                });
                windowElement.style.zIndex = '101';
                windowElement.style.display = 'block';
            }
        }
        
        // Close window
        function closeWindow(windowId) {
            document.getElementById(windowId).style.display = 'none';
        }
    </script>
</body>
</html>notepadWindow"></div>
            </div>
        </div>
        <div class="window-content notepad-content">
            <div class="notepad-menubar">
                <div class="notepad-menu-item">File</div>
                <div class="notepad-menu-item">Edit</div>
                <div class="notepad-menu-item">Format</div>
                <div class="notepad-menu-item">View</div>
                <div class="notepad-menu-item">Help</div>
            </div>
            <textarea class="notepad-textarea" placeholder="Start typing..."></textarea>
        </div>
    </div>
    
    <!-- Calculator Window -->
    <div class="window" id="calculatorWindow" style="width: 350px; height: 450px; top: 150px; left: 300px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-icon">üî¢</div>
                Calculator
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize"></div>
                <div class="window-control window-maximize"></div>
                <div class="window-control window-close" data-window="calculatorWindow"></div>
            </div>
        </div>
        <div class="window-content calculator-content">
            <div class="calculator-display" id="calculatorDisplay">0</div>
            <div class="calculator-buttons">
                <button class="calculator-button clear" data-action="clear">C</button>
                <button class="calculator-button" data-action="backspace">‚å´</button>
                <button class="calculator-button operator" data-action="percent">%</button>
                <button class="calculator-button operator" data-operation="/">√∑</button>
                <button class="calculator-button" data-digit="7">7</button>
                <button class="calculator-button" data-digit="8">8</button>
                <button class="calculator-button" data-digit="9">9</button>
                <button class="calculator-button operator" data-operation="*">√ó</button>
                <button class="calculator-button" data-digit="4">4</button>
                <button class="calculator-button" data-digit="5">5</button>
                <button class="calculator-button" data-digit="6">6</button>
                <button class="calculator-button operator" data-operation="-">‚àí</button>
                <button class="calculator-button" data-digit="1">1</button>
                <button class="calculator-button" data-digit="2">2</button>
                <button class="calculator-button" data-digit="3">3</button>
                <button class="calculator-button operator" data-operation="+">+</button>
                <button class="calculator-button" data-action="plusMinus">¬±</button>
                <button class="calculator-button" data-digit="0">0</button>
                <button class="calculator-button" data-digit=".">.</button>
                <button class="calculator-button equals" data-action="calculate">=</button>
            </div>
        </div>
    </div>
    
    <!-- Browser Window -->
    <div class="window" id="browserWindow" style="width: 800px; height: 600px; top: 50px; left: 100px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-icon">üåê</div>
                Browser
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize"></div>
                <div class="window-control window-maximize"></div>
                <div class="window-control window-close" data-window="browserWindow"></div>
            </div>
        </div>
        <div class="window-content browser-content">
            <div class="browser-toolbar">
                <div class="browser-button" id="browserBack">‚óÄ</div>
                <div class="browser-button" id="browserForward">‚ñ∂</div>
                <div class="browser-button" id="browserReload">‚Üª</div>
                <input type="text" class="browser-address-bar" value="https://github.com/" placeholder="Enter a URL...">
            </div>
            <div class="browser-viewport">
                <h1>Welcome to Windows 12 Browser</h1>
                <p>This is a conceptual browser interface. In a real implementation, this would load web content.</p>
                <p>Current page: GitHub</p>
                <div style="margin-top: 20px; background-color: #0d1117; color: #c9d1d9; padding: 20px; border-radius: 6px;">
                    <h2 style="color: #f0f6fc;">GitHub</h2>
                    <p>Where the world builds software.</p>
                    <div style="display: flex; margin-top: 20px;">
                        <div style="background-color: #238636; color: white; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Sign up for GitHub</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- File Explorer Window -->
    <div class="window" id="explorerWindow" style="width: 800px; height: 500px; top: 80px; left: 150px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-icon">üìÅ</div>
                File Explorer
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize"></div>
                <div class="window-control window-maximize"></div>
                <div class="window-control window-close" data-window="
