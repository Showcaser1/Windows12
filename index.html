<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 12 Concept</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            overflow: hidden;
            background-color: #000;
            color: white;
            height: 100vh;
        }

        .desktop {
            position: relative;
            width: 100vw;
            height: calc(100vh - 50px);
            background-size: cover;
            background-position: center;
            overflow: hidden;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background-color: rgba(20, 20, 20, 0.85);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
        }

        .start-button {
            width: 40px;
            height: 40px;
            background-color: rgba(0, 120, 215, 0.8);
            border-radius: 6px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: rgba(0, 140, 235, 0.9);
        }

        .taskbar-icons {
            display: flex;
            align-items: center;
            height: 100%;
        }

        .taskbar-icon {
            width: 40px;
            height: 40px;
            margin: 0 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
            position: relative;
        }

        .taskbar-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .taskbar-icon.active::after {
            content: '';
            position: absolute;
            bottom: 2px;
            width: 20px;
            height: 2px;
            background-color: #00aaff;
        }

        .start-menu-container {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 60px;
            width: 700px;
            height: 550px;
            background-color: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            display: none;
            z-index: 1001;
            overflow: hidden;
            animation: slideIn 0.3s ease-out;
        }

        .start-menu {
            width: 100%;
            height: 100%;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .start-menu-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .search-box {
            width: 100%;
            padding: 10px 15px;
            background-color: rgba(50, 50, 50, 0.6);
            border: none;
            border-radius: 8px;
            color: white;
            outline: none;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .search-box:focus {
            background-color: rgba(70, 70, 70, 0.8);
        }

        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            grid-gap: 15px;
            overflow-y: auto;
            flex: 1;
        }

        .app-shortcut {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: background-color 0.2s;
        }

        .app-shortcut:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .app-shortcut-icon {
            width: 48px;
            height: 48px;
            background-color: rgba(0, 120, 215, 0.8);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 8px;
            color: white;
            font-size: 24px;
        }

        .app-shortcut-name {
            font-size: 12px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
        }

        .desktop-icon {
            position: absolute;
            width: 90px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
        }

        .desktop-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .desktop-icon-img {
            width: 48px;
            height: 48px;
            background-color: rgba(0, 120, 215, 0.8);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 8px;
            color: white;
            font-size: 24px;
        }

        .desktop-icon-name {
            font-size: 12px;
            color: white;
            text-shadow: 0 0 3px rgba(0, 0, 0, 0.8);
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 90px;
        }

        .window {
            position: absolute;
            background-color: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            display: none;
            overflow: hidden;
            resize: both;
            min-width: 300px;
            min-height: 200px;
            max-width: 90vw;
            max-height: 90vh;
            animation: fadeIn 0.2s ease-out;
        }

        .window-titlebar {
            height: 32px;
            background-color: rgba(50, 50, 50, 0.7);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            cursor: move;
            user-select: none;
        }

        .window-title {
            display: flex;
            align-items: center;
            font-size: 13px;
            font-weight: 500;
        }

        .window-controls {
            display: flex;
            align-items: center;
        }

        .window-control {
            width: 12px;
            height: 12px;
            margin-left: 8px;
            font-size: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            color: #fff;
            transition: background-color 0.2s;
        }

        .window-minimize {
            background-color: #3c3c3c;
        }

        .window-maximize {
            background-color: #3c3c3c;
        }

        .window-close {
            background-color: #e81123;
        }

        .window-control:hover {
            background-color: #555;
        }

        .window-close:hover {
            background-color: #ff3333;
        }

        .window-content {
            height: calc(100% - 32px);
            overflow: auto;
            padding: 15px;
        }

        /* Notepad styles */
        .notepad-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 0;
        }

        .notepad-menubar {
            display: flex;
            padding: 5px;
            background-color: rgba(40, 40, 40, 0.7);
        }

        .notepad-menu-item {
            padding: 5px 10px;
            cursor: pointer;
            font-size: 13px;
            border-radius: 4px;
        }

        .notepad-menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .notepad-textarea {
            flex: 1;
            background-color: rgba(20, 20, 20, 0.7);
            color: #fff;
            border: none;
            resize: none;
            padding: 10px;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            outline: none;
        }

        /* Calculator styles */
        .calculator-content {
            height: 100%;
            display: grid;
            grid-template-rows: 80px 1fr;
            padding: 0;
        }

        .calculator-display {
            background-color: rgba(20, 20, 20, 0.7);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 20px;
            font-size: 2rem;
            font-weight: bold;
            overflow: hidden;
        }

        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1px;
        }

        .calculator-button {
            background-color: rgba(60, 60, 60, 0.8);
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: white;
            padding: 15px;
            transition: background-color 0.2s;
        }

        .calculator-button:hover {
            background-color: rgba(80, 80, 80, 0.9);
        }

        .calculator-button.operator {
            background-color: rgba(0, 120, 215, 0.8);
        }

        .calculator-button.equals {
            background-color: rgba(0, 160, 120, 0.8);
        }

        .calculator-button.clear {
            background-color: rgba(215, 60, 60, 0.8);
        }

        /* Browser styles */
        .browser-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 0;
        }

        .browser-toolbar {
            display: flex;
            padding: 8px;
            background-color: rgba(40, 40, 40, 0.7);
            align-items: center;
        }

        .browser-button {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(80, 80, 80, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 8px;
            cursor: pointer;
            font-size: 18px;
            color: white;
        }

        .browser-address-bar {
            flex: 1;
            background-color: rgba(60, 60, 60, 0.7);
            border-radius: 15px;
            padding: 8px 15px;
            color: #ddd;
            border: none;
            outline: none;
            font-size: 14px;
        }

        .browser-viewport {
            flex: 1;
            background-color: white;
            color: black;
            padding: 15px;
            overflow: auto;
        }

        /* File Explorer styles */
        .explorer-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 0;
        }

        .explorer-toolbar {
            display: flex;
            padding: 8px;
            background-color: rgba(40, 40, 40, 0.7);
            align-items: center;
        }

        .explorer-addressbar {
            flex: 1;
            background-color: rgba(60, 60, 60, 0.7);
            border-radius: 4px;
            padding: 8px 15px;
            color: #ddd;
            border: none;
            outline: none;
            font-size: 14px;
            margin: 0 8px;
        }

        .explorer-main {
            flex: 1;
            display: flex;
        }

        .explorer-sidebar {
            width: 200px;
            background-color: rgba(35, 35, 35, 0.7);
            padding: 10px;
        }

        .explorer-sidebar-item {
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            margin-bottom: 2px;
        }

        .explorer-sidebar-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .explorer-icon {
            margin-right: 8px;
            font-size: 16px;
        }

        .explorer-files {
            flex: 1;
            padding: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            grid-gap: 15px;
            overflow: auto;
        }

        .explorer-file {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
        }

        .explorer-file:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .explorer-file-icon {
            width: 40px;
            height: 40px;
            background-color: rgba(0, 120, 215, 0.8);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 6px;
            color: white;
            font-size: 18px;
        }

        .explorer-file-name {
            font-size: 12px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
        }

        /* Task Manager styles */
        .taskmanager-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 0;
        }

        .taskmanager-tabs {
            display: flex;
            padding: 8px;
            background-color: rgba(40, 40, 40, 0.7);
        }

        .taskmanager-tab {
            padding: 8px 15px;
            cursor: pointer;
            font-size: 13px;
            border-radius: 4px;
        }

        .taskmanager-tab:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .taskmanager-processes {
            flex: 1;
            overflow: auto;
            padding: 10px;
        }

        .taskmanager-process {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 5px;
        }

        .taskmanager-process:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .taskmanager-process-name {
            flex: 2;
        }

        .taskmanager-process-cpu {
            flex: 1;
            text-align: right;
        }

        .taskmanager-process-memory {
            flex: 1;
            text-align: right;
        }

        .taskmanager-process-end {
            flex: 1;
            text-align: right;
            cursor: pointer;
            color: #ff5555;
        }

        /* Context menu */
        .context-menu {
            position: absolute;
            background-color: rgba(40, 40, 40, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            padding: 5px 0;
            min-width: 180px;
            z-index: 1100;
            display: none;
        }

        .context-menu-item {
            padding: 8px 15px;
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
        }

        .context-menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .context-menu-icon {
            margin-right: 8px;
            font-size: 14px;
            opacity: 0.8;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Clock */
        .taskbar-clock {
            position: absolute;
            right: 20px;
            font-size: 14px;
            color: white;
        }

        /* Action center button */
        .action-center-button {
            position: absolute;
            right: 80px;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 4px;
            cursor: pointer;
        }

        .action-center-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Action center */
        .action-center {
            position: absolute;
            right: 10px;
            bottom: 60px;
            width: 350px;
            background-color: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            display: none;
            z-index: 1001;
            overflow: hidden;
            padding: 15px;
            animation: slideIn 0.3s ease-out;
        }

        .action-center-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .quick-action {
            background-color: rgba(60, 60, 60, 0.7);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .quick-action:hover {
            background-color: rgba(80, 80, 80, 0.8);
        }

        .quick-action-icon {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .quick-action-name {
            font-size: 11px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="desktop" id="desktop"></div>

    <div class="taskbar" id="taskbar">
        <div class="start-button" id="startButton">⊞</div>
        <div class="taskbar-icons" id="taskbarIcons">
            <div class="taskbar-icon" data-app="explorer">📁</div>
            <div class="taskbar-icon" data-app="browser">🌐</div>
            <div class="taskbar-icon" data-app="notepad">📝</div>
            <div class="taskbar-icon" data-app="calculator">🔢</div>
            <div class="taskbar-icon" data-app="taskmanager">📈</div>
        </div>
        <div class="action-center-button" id="actionCenterButton">📊</div>
        <div class="taskbar-clock" id="taskbarClock">00:00</div>
    </div>

    <div class="start-menu-container" id="startMenu">
        <div class="start-menu">
            <div class="start-menu-header">
                <input type="text" class="search-box" id="searchBox" placeholder="Type to search...">
            </div>
            <div class="app-grid">
                <div class="app-shortcut" data-app="explorer">
                    <div class="app-shortcut-icon">📁</div>
                    <div class="app-shortcut-name">File Explorer</div>
                </div>
                <div class="app-shortcut" data-app="browser">
                    <div class="app-shortcut-icon">🌐</div>
                    <div class="app-shortcut-name">Browser</div>
                </div>
                <div class="app-shortcut" data-app="notepad">
                    <div class="app-shortcut-icon">📝</div>
                    <div class="app-shortcut-name">Notepad</div>
                </div>
                <div class="app-shortcut" data-app="calculator">
                    <div class="app-shortcut-icon">🔢</div>
                    <div class="app-shortcut-name">Calculator</div>
                </div>
                <div class="app-shortcut" data-app="taskmanager">
                    <div class="app-shortcut-icon">📈</div>
                    <div class="app-shortcut-name">Task Manager</div>
                </div>
                <div class="app-shortcut" data-app="settings">
                    <div class="app-shortcut-icon">⚙️</div>
                    <div class="app-shortcut-name">Settings</div>
                </div>
                <div class="app-shortcut" data-app="photos">
                    <div class="app-shortcut-icon">🖼️</div>
                    <div class="app-shortcut-name">Photos</div>
                </div>
                <div class="app-shortcut" data-app="mail">
                    <div class="app-shortcut-icon">✉️</div>
                    <div class="app-shortcut-name">Mail</div>
                </div>
            </div>
        </div>
    </div>

    <div class="action-center" id="actionCenter">
        <div class="action-center-header">
            <h3>Quick Settings</h3>
        </div>
        <div class="quick-actions">
            <div class="quick-action">
                <div class="quick-action-icon">📶</div>
                <div class="quick-action-name">Wi-Fi</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">🔊</div>
                <div class="quick-action-name">Volume</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">☀️</div>
                <div class="quick-action-name">Brightness</div>
            </div>
            <div class="quick-action">
                <div class="quick-action-icon">📱</div>
                <div class="quick-action-name">Bluetooth</div>
            </div>
        </div>
    </div>

    <!-- Notepad Window -->
    <div class="window" id="notepadWindow" style="width: 600px; height: 400px; top: 100px; left: 200px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-shortcut-icon">📝</div>
                Notepad
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize" data-window="notepadWindow">-</div>
                <div class="window-control window-maximize" data-window="notepadWindow">□</div>
                <div class="window-control window-close" data-window="notepadWindow">x</div>
            </div>
        </div>
        <div class="window-content notepad-content">
            <div class="notepad-menubar">
                <div class="notepad-menu-item" onclick="saveNotepad()">Save</div>
                <div class="notepad-menu-item" onclick="clearNotepad()">Clear</div>
            </div>
            <textarea class="notepad-textarea" id="notepadText" placeholder="Start typing..."></textarea>
        </div>
    </div>

    <!-- Calculator Window -->
    <div class="window" id="calculatorWindow" style="width: 350px; height: 450px; top: 150px; left: 300px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-shortcut-icon">🔢</div>
                Calculator
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize" data-window="calculatorWindow">-</div>
                <div class="window-control window-maximize" data-window="calculatorWindow">□</div>
                <div class="window-control window-close" data-window="calculatorWindow">x</div>
            </div>
        </div>
        <div class="window-content calculator-content">
            <div class="calculator-display" id="calculatorDisplay">0</div>
            <div class="calculator-buttons">
                <button class="calculator-button clear" data-action="clear">C</button>
                <button class="calculator-button" data-action="plusMinus">±</button>
                <button class="calculator-button operator" data-action="percent">%</button>
                <button class="calculator-button operator" data-operation="/">÷</button>
                <button class="calculator-button" data-digit="7">7</button>
                <button class="calculator-button" data-digit="8">8</button>
                <button class="calculator-button" data-digit="9">9</button>
                <button class="calculator-button operator" data-operation="*">×</button>
                <button class="calculator-button" data-digit="4">4</button>
                <button class="calculator-button" data-digit="5">5</button>
                <button class="calculator-button" data-digit="6">6</button>
                <button class="calculator-button operator" data-operation="-">−</button>
                <button class="calculator-button" data-digit="1">1</button>
                <button class="calculator-button" data-digit="2">2</button>
                <button class="calculator-button" data-digit="3">3</button>
                <button class="calculator-button operator" data-operation="+">+</button>
                <button class="calculator-button" data-digit="0">0</button>
                <button class="calculator-button" data-digit=".">.</button>
                <button class="calculator-button" data-action="backspace">⌫</button>
                <button class="calculator-button equals" data-action="calculate">=</button>
            </div>
        </div>
    </div>

    <!-- Browser Window -->
    <div class="window" id="browserWindow" style="width: 800px; height: 600px; top: 50px; left: 100px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-shortcut-icon">🌐</div>
                Browser
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize" data-window="browserWindow">-</div>
                <div class="window-control window-maximize" data-window="browserWindow">□</div>
                <div class="window-control window-close" data-window="browserWindow">x</div>
            </div>
        </div>
        <div class="window-content browser-content">
            <div class="browser-toolbar">
                <div class="browser-button" onclick="browserNavigate('back')">◀</div>
                <div class="browser-button" onclick="browserNavigate('forward')">▶</div>
                <div class="browser-button" onclick="browserNavigate('reload')">↻</div>
                <input type="text" class="browser-address-bar" id="browserAddress" placeholder="Enter a URL..." onkeydown="if(event.key === 'Enter') browserNavigate('go')">
            </div>
            <div class="browser-viewport" id="browserViewport">
                <h1>Welcome to Windows 12 Browser</h1>
                <p>Type a URL in the address bar and press Enter to navigate.</p>
            </div>
        </div>
    </div>

    <!-- File Explorer Window -->
    <div class="window" id="explorerWindow" style="width: 800px; height: 500px; top: 80px; left: 150px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-shortcut-icon">📁</div>
                File Explorer
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize" data-window="explorerWindow">-</div>
                <div class="window-control window-maximize" data-window="explorerWindow">□</div>
                <div class="window-control window-close" data-window="explorerWindow">x</div>
            </div>
        </div>
        <div class="window-content explorer-content">
            <div class="explorer-toolbar">
                <div class="browser-button" onclick="explorerNavigate('back')">◀</div>
                <div class="browser-button" onclick="explorerNavigate('forward')">▶</div>
                <div class="browser-button" onclick="explorerNavigate('up')">↑</div>
                <input type="text" class="explorer-addressbar" id="explorerAddress" value="C:\Users\User">
            </div>
            <div class="explorer-main">
                <div class="explorer-sidebar">
                    <div class="explorer-sidebar-item" onclick="explorerNavigate('quick')">📌 Quick access</div>
                    <div class="explorer-sidebar-item" onclick="explorerNavigate('desktop')">🖥️ Desktop</div>
                    <div class="explorer-sidebar-item" onclick="explorerNavigate('documents')">📄 Documents</div>
                    <div class="explorer-sidebar-item" onclick="explorerNavigate('downloads')">⬇️ Downloads</div>
                </div>
                <div class="explorer-files" id="explorerFiles"></div>
            </div>
        </div>
    </div>

    <!-- Task Manager Window -->
    <div class="window" id="taskmanagerWindow" style="width: 600px; height: 400px; top: 120px; left: 250px;">
        <div class="window-titlebar">
            <div class="window-title">
                <div class="app-shortcut-icon">📈</div>
                Task Manager
            </div>
            <div class="window-controls">
                <div class="window-control window-minimize" data-window="taskmanagerWindow">-</div>
                <div class="window-control window-maximize" data-window="taskmanagerWindow">□</div>
                <div class="window-control window-close" data-window="taskmanagerWindow">x</div>
            </div>
        </div>
        <div class="window-content taskmanager-content">
            <div class="taskmanager-tabs">
                <div class="taskmanager-tab">Processes</div>
                <div class="taskmanager-tab">Performance</div>
            </div>
            <div class="taskmanager-processes" id="taskmanagerProcesses"></div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="desktopContextMenu">
        <div class="context-menu-item" onclick="refreshDesktop()">
            <span class="context-menu-icon">↻</span> Refresh
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">📁</span> New Folder
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">📝</span> New Text Document
        </div>
        <div class="context-menu-item">
            <span class="context-menu-icon">⚙️</span> Personalize
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize desktop
            desktop.style.backgroundImage = 'url("https://source.unsplash.com/random/1920x1080/?abstract")';
            createDesktopIcon('Recycle Bin', '🗑️', 20, 20);
            createDesktopIcon('File Explorer', '📁', 20, 120);
            createDesktopIcon('Browser', '🌐', 20, 220);
            createDesktopIcon('Notepad', '📝', 20, 320);
            createDesktopIcon('Calculator', '🔢', 20, 420);
            createDesktopIcon('Task Manager', '📈', 20, 520);

            // Setup clock
            updateClock();
            setInterval(updateClock, 1000);

            // Initialize apps
            initCalculator();
            initNotepad();
            initFileExplorer();
            initTaskManager();

            // Window management
            makeWindowsDraggable();
            makeWindowsResizable();
            setupWindowControls();

            // Event listeners
            setupEventListeners();

            // Mock file system
            window.fileSystem = {
                'C:\\Users\\User': [
                    { name: 'Document.txt', type: 'file', icon: '📝' },
                    { name: 'wallpaper.jpg', type: 'file', icon: '🖼️' },
                    { name: 'Documents', type: 'folder', icon: '📁' }
                ],
                'C:\\Users\\User\\Documents': [
                    { name: 'Report.docx', type: 'file', icon: '📄' },
                    { name: 'Budget.xlsx', type: 'file', icon: '📊' }
                ]
            };
        });

        function createDesktopIcon(name, icon, left, top) {
            const desktopIcon = document.createElement('div');
            desktopIcon.className = 'desktop-icon';
            desktopIcon.style.left = left + 'px';
            desktopIcon.style.top = top + 'px';
            desktopIcon.innerHTML = `
                <div class="desktop-icon-img">${icon}</div>
                <div class="desktop-icon-name">${name}</div>
            `;
            desktopIcon.dataset.app = name.toLowerCase().replace(' ', '');
            desktopIcon.addEventListener('dblclick', () => openApp(desktopIcon.dataset.app));
            document.getElementById('desktop').appendChild(desktopIcon);
        }

        function updateClock() {
            const now = new Date();
            const hours = now.getHours() % 12 || 12;
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const ampm = now.getHours() >= 12 ? 'PM' : 'AM';
            document.getElementById('taskbarClock').textContent = `${hours}:${minutes} ${ampm}`;
        }

        function initCalculator() {
            const display = document.getElementById('calculatorDisplay');
            const buttons = document.querySelectorAll('.calculator-button');
            let firstOperand = null;
            let operator = null;
            let waitingForSecondOperand = false;

            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    if (button.dataset.digit !== undefined) {
                        inputDigit(button.dataset.digit);
                    } else if (button.dataset.operation) {
                        handleOperator(button.dataset.operation);
                    } else if (button.dataset.action) {
                        handleAction(button.dataset.action);
                    }
                });

                function inputDigit(digit) {
                    if (waitingForSecondOperand) {
                        display.textContent = digit;
                        waitingForSecondOperand = false;
                    } else {
                        display.textContent = display.textContent === '0' ? digit : display.textContent + digit;
                    }
                }

                function handleOperator(nextOperator) {
                    const inputValue = parseFloat(display.textContent);
                    if (firstOperand === null) {
                        firstOperand = inputValue;
                    } else if (operator) {
                        const result = calculate(firstOperand, inputValue, operator);
                        display.textContent = String(result);
                        firstOperand = result;
                    }
                    waitingForSecondOperand = true;
                    operator = nextOperator;
                }

                function handleAction(action) {
                    switch (action) {
                        case 'clear':
                            display.textContent = '0';
                            firstOperand = null;
                            operator = null;
                            waitingForSecondOperand = false;
                            break;
                        case 'calculate':
                            if (firstOperand !== null && operator) {
                                display.textContent = String(calculate(firstOperand, parseFloat(display.textContent), operator));
                                firstOperand = null;
                                operator = null;
                                waitingForSecondOperand = false;
                            }
                            break;
                        case 'backspace':
                            display.textContent = display.textContent.length > 1 ? display.textContent.slice(0, -1) : '0';
                            break;
                        case 'plusMinus':
                            display.textContent = String(-parseFloat(display.textContent));
                            break;
                        case 'percent':
                            display.textContent = String(parseFloat(display.textContent) / 100);
                            break;
                    }
                }

                function calculate(first, second, op) {
                    switch (op) {
                        case '+': return first + second;
                        case '-': return first - second;
                        case '*': return first * second;
                        case '/': return second !== 0 ? first / second : 'Error';
                        default: return second;
                    }
                }
            });
        }

        function initNotepad() {
            const textarea = document.getElementById('notepadText');
            textarea.value = localStorage.getItem('notepadContent') || '';
        }

        function saveNotepad() {
            const textarea = document.getElementById('notepadText');
            localStorage.setItem('notepadContent', textarea.value);
            alert('Text saved!');
        }

        function clearNotepad() {
            const textarea = document.getElementById('notepadText');
            textarea.value = '';
            localStorage.removeItem('notepadContent');
        }

        function initFileExplorer() {
            renderExplorerFiles('C:\\Users\\User');
        }

        function renderExplorerFiles(path) {
            const filesContainer = document.getElementById('explorerFiles');
            const addressBar = document.getElementById('explorerAddress');
            addressBar.value = path;
            filesContainer.innerHTML = '';
            const files = window.fileSystem[path] || [];
            files.forEach(file => {
                const fileElement = document.createElement('div');
                fileElement.className = 'explorer-file';
                fileElement.innerHTML = `
                    <div class="explorer-file-icon">${file.icon}</div>
                    <div class="explorer-file-name">${file.name}</div>
                `;
                fileElement.onclick = () => {
                    if (file.type === 'folder') {
                        renderExplorerFiles(`${path}\\${file.name}`);
                    } else {
                        openApp('notepad');
                    }
                };
                filesContainer.appendChild(fileElement);
            });
        }

        function explorerNavigate(action) {
            const addressBar = document.getElementById('explorerAddress');
            let currentPath = addressBar.value;
            if (action === 'back') {
                currentPath = currentPath.substring(0, currentPath.lastIndexOf('\\'));
            } else if (action === 'up') {
                currentPath = currentPath.substring(0, currentPath.lastIndexOf('\\'));
            } else if (action === 'quick') {
                currentPath = 'C:\\Users\\User';
            } else if (action === 'desktop') {
                currentPath = 'C:\\Users\\User';
            } else if (action === 'documents') {
                currentPath = 'C:\\Users\\User\\Documents';
            }
            if (window.fileSystem[currentPath]) {
                renderExplorerFiles(currentPath);
            }
        }

        function initTaskManager() {
            updateTaskManager();
            setInterval(updateTaskManager, 5000);
        }

        function updateTaskManager() {
            const processesContainer = document.getElementById('taskmanagerProcesses');
            processesContainer.innerHTML = '';
            document.querySelectorAll('.window').forEach(window => {
                if (window.style.display === 'block') {
                    const process = document.createElement('div');
                    process.className = 'taskmanager-process';
                    process.innerHTML = `
                        <div class="taskmanager-process-name">${window.querySelector('.window-title').textContent}</div>
                        <div class="taskmanager-process-cpu">${Math.floor(Math.random() * 10)}%</div>
                        <div class="taskmanager-process-memory">${Math.floor(Math.random() * 100)} MB</div>
                        <div class="taskmanager-process-end" onclick="closeWindow('${window.id}')">End Task</div>
                    `;
                    processesContainer.appendChild(process);
                }
            });
        }

        function makeWindowsDraggable() {
            document.querySelectorAll('.window').forEach(window => {
                const titlebar = window.querySelector('.window-titlebar');
                let isDragging = false;
                let offsetX, offsetY;

                titlebar.addEventListener('mousedown', e => {
                    isDragging = true;
                    offsetX = e.clientX - window.getBoundingClientRect().left;
                    offsetY = e.clientY - window.getBoundingClientRect().top;
                    bringToFront(window);
                });

                document.addEventListener('mousemove', e => {
                    if (isDragging) {
                        let newLeft = e.clientX - offsetX;
                        let newTop = e.clientY - offsetY;
                        newLeft = Math.max(0, Math.min(newLeft, window.innerWidth - window.offsetWidth));
                        newTop = Math.max(0, Math.min(newTop, window.innerHeight - window.offsetHeight - 50));
                        window.style.left = newLeft + 'px';
                        window.style.top = newTop + 'px';
                    }
                });

                document.addEventListener('mouseup', () => {
                    isDragging = false;
                });
            });
        }

        function makeWindowsResizable() {
            document.querySelectorAll('.window').forEach(window => {
                window.addEventListener('resize', () => {
                    window.style.width = Math.max(300, Math.min(window.offsetWidth, window.innerWidth - 20)) + 'px';
                    window.style.height = Math.max(200, Math.min(window.offsetHeight, window.innerHeight - 70)) + 'px';
                });
            });
        }

        function setupWindowControls() {
            document.querySelectorAll('.window-control').forEach(control => {
                control.addEventListener('click', () => {
                    const windowId = control.dataset.window;
                    const window = document.getElementById(windowId);
                    if (control.classList.contains('window-close')) {
                        closeWindow(windowId);
                    } else if (control.classList.contains('window-minimize')) {
                        window.style.display = 'none';
                        updateTaskbar();
                    } else if (control.classList.contains('window-maximize')) {
                        if (window.dataset.maximized === 'true') {
                            window.style.width = window.dataset.originalWidth;
                            window.style.height = window.dataset.originalHeight;
                            window.style.left = window.dataset.originalLeft;
                            window.style.top = window.dataset.originalTop;
                            window.style.resize = 'both';
                            window.dataset.maximized = 'false';
                        } else {
                            window.dataset.originalWidth = window.style.width;
                            window.dataset.originalHeight = window.style.height;
                            window.dataset.originalLeft = window.style.left;
                            window.dataset.originalTop = window.style.top;
                            window.style.width = '90vw';
                            window.style.height = 'calc(90vh - 50px)';
                            window.style.left = '5vw';
                            window.style.top = '5vh';
                            window.style.resize = 'none';
                            window.dataset.maximized = 'true';
                        }
                    }
                });
            });
        }

        function setupEventListeners() {
            document.getElementById('startButton').addEventListener('click', toggleStartMenu);
            document.getElementById('actionCenterButton').addEventListener('click', toggleActionCenter);
            document.getElementById('desktop').addEventListener('contextmenu', e => {
                e.preventDefault();
                showContextMenu(e.clientX, e.clientY);
            });
            document.addEventListener('click', e => {
                const startMenu = document.getElementById('startMenu');
                const actionCenter = document.getElementById('actionCenter');
                const contextMenu = document.getElementById('desktopContextMenu');
                if (!startMenu.contains(e.target) && e.target !== document.getElementById('startButton')) {
                    startMenu.style.display = 'none';
                }
                if (!actionCenter.contains(e.target) && e.target !== document.getElementById('actionCenterButton')) {
                    actionCenter.style.display = 'none';
                }
                contextMenu.style.display = 'none';
            });

            document.querySelectorAll('.taskbar-icon').forEach(icon => {
                icon.addEventListener('click', () => {
                    const windowId = icon.dataset.app + 'Window';
                    const window = document.getElementById(windowId);
                    if (window.style.display === 'block') {
                        window.style.display = 'none';
                    } else {
                        openApp(icon.dataset.app);
                    }
                    updateTaskbar();
                });
            });

            document.querySelectorAll('.app-shortcut').forEach(shortcut => {
                shortcut.addEventListener('click', () => {
                    openApp(shortcut.dataset.app);
                    toggleStartMenu();
                });
            });

            document.getElementById('searchBox').addEventListener('input', e => {
                const search = e.target.value.toLowerCase();
                document.querySelectorAll('.app-shortcut').forEach(shortcut => {
                    const name = shortcut.querySelector('.app-shortcut-name').textContent.toLowerCase();
                    shortcut.style.display = name.includes(search) ? 'block' : 'none';
                });
            });
        }

        function toggleStartMenu() {
            const startMenu = document.getElementById('startMenu');
            const actionCenter = document.getElementById('actionCenter');
            startMenu.style.display = startMenu.style.display === 'block' ? 'none' : 'block';
            if (startMenu.style.display === 'block') {
                actionCenter.style.display = 'none';
                document.getElementById('searchBox').focus();
            }
        }

        function toggleActionCenter() {
            const actionCenter = document.getElementById('actionCenter');
            const startMenu = document.getElementById('startMenu');
            actionCenter.style.display = actionCenter.style.display === 'block' ? 'none' : 'block';
            if (actionCenter.style.display === 'block') {
                startMenu.style.display = 'none';
            }
        }

        function showContextMenu(x, y) {
            const contextMenu = document.getElementById('desktopContextMenu');
            contextMenu.style.display = 'block';
            contextMenu.style.left = x + 'px';
            contextMenu.style.top = y + 'px';
            const rect = contextMenu.getBoundingClientRect();
            if (rect.right > window.innerWidth) {
                contextMenu.style.left = (x - rect.width) + 'px';
            }
            if (rect.bottom > window.innerHeight) {
                contextMenu.style.top = (y - rect.height) + 'px';
            }
        }

        function refreshDesktop() {
            document.getElementById('desktop').innerHTML = '';
            createDesktopIcon('Recycle Bin', '🗑️', 20, 20);
            createDesktopIcon('File Explorer', '📁', 20, 120);
            createDesktopIcon('Browser', '🌐', 20, 220);
            createDesktopIcon('Notepad', '📝', 20, 320);
            createDesktopIcon('Calculator', '🔢', 20, 420);
            createDesktopIcon('Task Manager', '📈', 20, 520);
        }

        function openApp(app) {
            const windowId = app + 'Window';
            const window = document.getElementById(windowId);
            if (window) {
                window.style.display = 'block';
                bringToFront(window);
                if (app === 'explorer') {
                    renderExplorerFiles('C:\\Users\\User');
                }
                updateTaskbar();
            }
        }

        function closeWindow(windowId) {
            const window = document.getElementById(windowId);
            window.style.display = 'none';
            window.dataset.maximized = 'false';
            window.style.resize = 'both';
            updateTaskbar();
            updateTaskManager();
        }

        function bringToFront(window) {
            document.querySelectorAll('.window').forEach(w => w.style.zIndex = '100');
            window.style.zIndex = '101';
        }

        function updateTaskbar() {
            document.querySelectorAll('.taskbar-icon').forEach(icon => {
                const windowId = icon.dataset.app + 'Window';
                const window = document.getElementById(windowId);
                icon.classList.toggle('active', window && window.style.display === 'block');
            });
        }

        function browserNavigate(action) {
            const addressBar = document.getElementById('browserAddress');
            const viewport = document.getElementById('browserViewport');
            const url = addressBar.value;
            if (action === 'go') {
                viewport.innerHTML = `
                    <h1>${url}</h1>
                    <p>Simulated page for ${url}</p>
                    <div style="background-color: #f0f0f0; padding: 20px; border-radius: 8px;">
                        <h2>Mock Content</h2>
                        <p>This is a mock webpage for the entered URL.</p>
                    </div>
                `;
            } else if (action === 'reload') {
                browserNavigate('go');
            }
        }
    </script>
</body>
</html>
